<!DOCTYPE HTML>
<!-- TO RUN: python -m SimpleHTTPServer 8888 -->
<html>
   <head>
      <script src="https://d3js.org/d3.v3.min.js"></script>
      <!-- import bootstrap and fontawesome -->
      <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
      <!-- import Asar (serif) and Lato (sans serif) fonts -->
      <link href="https://fonts.googleapis.com/css?family=Asar|Lato" rel="stylesheet">
      <style>
         body {
            background-color: #f9fcff;
         }

         p {
            font-family: "Asar", serif;
            font-size: 1.5em;
            text-align: center;
         }
         .graph {
            background-color:blue;
         }

         /*this is the styling for the first ul*/
         .icon-holder {
            list-style-type:none;
            display:inline;
         }
         li {
            display: inline;
            margin: auto;
         }
         /*this styling applies to the bottom buttons*/
         .btn {
            text-align: center;
            display:block;
            width:300px;
            height:100px;
            background-color:green;
            margin: auto;
            border-radius:5%;
         }
         /*this styling applies to all icons*/
         .icon {
            font-size: 5em;
            padding-left: 20px;
         }

         #real-holder {
            visibility: hidden;

         }
         /*blue icons for bernie*/
         #real-bernie {
            color:blue;
         }
         #real-other {
            color:red;
         }

         .header-text {

         }
         #d3svg {
            max-width: 100%;
         }
      </style>
   </head>
   <body>
      <div id="d3svg"></div>
      <script>
      var stages = ["Hillary", "Trump", "Independent", "Did Not Vote"]
      var current_stage = stages[0];
      console.log(current_stage);

      function init() {
         //create a variable to hold the main div
         var div = d3.select("#d3svg");

         // top text
         div.append("p")
         .html('How many Bernie voters do you think voted for Trump in the general election?')
         .attr("class", "header-text")

         // create svg
         var svg = div
         .append("svg")
         .attr("width", "100%")
         .attr("height", "350px")


         // create the svg to hold the icons
         var foreignObject = svg.append('svg:foreignObject')
         .attr("width", 1300)
         .attr("height", 500)
         .style("text-align", "center")

         //ul to hold the first ten icons (the ones the user plays with)
         var icon_holder = foreignObject.append("xhtml:ul")
         .attr("id", "icon-holder")
         .style("margin-top", "100px")
         .style("padding-left", "0")

         //create ten user icons for user to play with
         for (var j=0; j<10; j++) {
            d3.select("#icon-holder")
               .append('xhml:li')
               .attr("class", "icon-holder")
               .attr("class", "icon")
               .html('<i class="fa fa-user" id="d3icon"></i>')
         }

         icon_color = "red";
         // on click, change color of icons
         d3.selectAll("#d3icon")
         .style("color", "black")
         .on("click", function() {
            d3.select(this)
            .style("color", icon_color)
         });


         // create a second ul for the real icons to live in
         d3.select("foreignObject")
            .append("xhtml:ul")
            .attr("id", "real-holder")
            .style("padding-left", "0")
            .style("padding-top", "50px")
         // adding "real" icons to the bottom

         //create 6 user icons
         for (var j=0; j<4; j++) {
            d3.select("#real-holder")
               .append('xhml:li')
               .attr("class", "real-icon")
               .attr("class", "icon")
               .html('<i class="fa fa-user" id="real-other"></i>')
         }



         // create 4 more
         for (var j=0; j<6; j++) {
            d3.select("#real-holder")
               .append('xhml:li')
               .attr("class", "real-icon")
               .attr("class", "icon")
               .html('<i class="fa fa-user" id="real-bernie"></i>')
         }


         // creating the button
         d3.select("#d3svg")
            .append("div")
            .attr("class", "btn")
            .attr("height", "150px")
            .append("p")
            .html("Click Me!")

         // button click to unhide other icons
         // figure out how to get the button click working
         d3.select("btn")
            .on("click", function() {
               d3.select(this)
               .style("color", "pink")
            })

      }

      function main() {
         init();
      }

      main();

      </script>

   </body>
</html>
